<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta
          name="description"
          content="Web site created using create-react-app"
  />
  <!--
    manifest.json provides metadata used when your web app is installed on a
    user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
  -->
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <!--
    Notice the use of %PUBLIC_URL% in the tags above.
    It will be replaced with the URL of the `public` folder during the build.
    Only files inside the `public` folder can be referenced from the HTML.

    Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
    work correctly both with client-side routing and a non-root public URL.
    Learn how to configure a non-root public URL by running `npm run build`.
  -->
  <!-- jQuery  -->
  <script src="https://code.jquery.com/jquery-latest.min.js"></script>

  <!-- font awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

  <!--  Animate.css  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

  <!--  tailwind  -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!--  flowbite css  -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.css" rel="stylesheet" />

  <!-- 데이지 UI -->
  <link href="https://cdn.jsdelivr.net/npm/daisyui@3.7.7/dist/full.css" rel="stylesheet" type="text/css" />

  <title>write</title>
</head>
<body class="bg-gray-50">
  <div id="alert-container" class="sm:w-1/4 w-full z-50 fixed bottom-5 right-5 flex flex-col-reverse"></div>
  <div id="root" class="flex"></div>


<script>
  // Alert 끄기
  function dismissAlert(flowAlertId) {
    const alertElement = document.getElementById(`flow-alert-${flowAlertId}`);
    if (alertElement) {
      alertElement.classList.add('animate__fadeOutDown');

      setTimeout(() => {
        alertElement.remove();
      }, 500);
    }
  }

  $(window).on('pageshow', () => {

    // alert storage(redirect or history back)
    const alertStorageKey = "alertStorageKey";
    const alertStorage = localStorage.getItem(alertStorageKey);

    if (alertStorage != null) {
        const alertType = alertStorage.split(":")[0];
        const msg = alertStorage.split(":")[1];

        flowAlert(alertType, msg);
        localStorage.removeItem(alertStorageKey);
    }
  });


  // bookId 최초 세팅
  const url = window.location.href;
  // /write/ 와 / 사이에 있는 정수
  const match = url.match(/\/write\/([0-9]+)\/?/);

  if (match) {
    window.APP_BOOK_ID = match[1];
  } else {
    window.APP_BOOK_ID = null;
  }

</script>
</body>
</html>










